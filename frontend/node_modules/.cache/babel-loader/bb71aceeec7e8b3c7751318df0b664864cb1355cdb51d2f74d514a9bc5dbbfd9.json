{"ast":null,"code":"// src/pages/ResumeAnalyzer.jsx\nimport React,{useState}from\"react\";import{api}from\"../api\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ResumeAnalyzer=()=>{var _result$score;const[jobTitle,setJobTitle]=useState(\"Full Stack Developer\");const[file,setFile]=useState(null);const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);const[result,setResult]=useState(null);const handleFileChange=e=>{const selected=e.target.files[0];if(!selected)return;// allow only PDF or DOCX\nconst allowedTypes=[\"application/pdf\",\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"];if(!allowedTypes.includes(selected.type)){setError(\"Please upload a PDF or DOCX file only.\");setFile(null);return;}setError(\"\");setFile(selected);};const handleSubmit=async e=>{e.preventDefault();setError(\"\");setResult(null);if(!file){setError(\"Please choose a resume file first.\");return;}try{setLoading(true);const formData=new FormData();formData.append(\"jobTitle\",jobTitle);// ðŸ‘‡ IMPORTANT: field name must be \"resume\" (matches backend upload.single(\"resume\"))\nformData.append(\"resume\",file);const res=await api.post(\"/api/resume/analyze\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});setResult(res.data.analysis);}catch(err){var _err$response,_err$response$data;console.error(\"Resume analyze error:\",err);setError((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Resume analysis failed. Try again.\");}finally{setLoading(false);}};const scorePercent=(_result$score=result===null||result===void 0?void 0:result.score)!==null&&_result$score!==void 0?_result$score:0;return/*#__PURE__*/_jsxs(\"div\",{className:\"page fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Resume ATS Analyzer\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"muted\",children:[\"Upload your \",/*#__PURE__*/_jsx(\"strong\",{children:\"PDF\"}),\" or \",/*#__PURE__*/_jsx(\"strong\",{children:\"DOCX\"}),\" resume to get an estimated ATS score and improvement suggestions.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-box\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Target Job Title\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:jobTitle,onChange:e=>setJobTitle(e.target.value),placeholder:\"e.g. Full Stack Developer\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Resume File (PDF / DOCX)\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".pdf,.docx\",onChange:handleFileChange}),file&&/*#__PURE__*/_jsxs(\"p\",{className:\"muted small-text\",children:[\"Selected: \",/*#__PURE__*/_jsx(\"strong\",{children:file.name})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",type:\"submit\",disabled:loading,children:loading?\"Analyzing...\":\"Analyze Resume\"})]})]}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"card result-card slide-up\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"ATS Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"score-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"score-circle\",children:/*#__PURE__*/_jsxs(\"span\",{children:[scorePercent,\"%\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"score-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Job Title:\"}),\" \",result.jobTitle||jobTitle]}),result.breakdown&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Keyword score:\"}),\" \",result.breakdown.keywordScore,\"/60\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Length score:\"}),\" \",result.breakdown.lengthScore,\"/25\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Structure score:\"}),\" \",result.breakdown.structureScore,\"/15\"]})]})]})]}),result.suggestions&&result.suggestions.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mt-24\",children:\"Suggestions\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"suggestion-list\",children:result.suggestions.map((s,idx)=>/*#__PURE__*/_jsx(\"li\",{children:s},idx))})]})]})]});};export default ResumeAnalyzer;","map":{"version":3,"names":["React","useState","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ResumeAnalyzer","_result$score","jobTitle","setJobTitle","file","setFile","error","setError","loading","setLoading","result","setResult","handleFileChange","e","selected","target","files","allowedTypes","includes","type","handleSubmit","preventDefault","formData","FormData","append","res","post","headers","data","analysis","err","_err$response","_err$response$data","console","response","message","scorePercent","score","className","children","onSubmit","value","onChange","placeholder","required","accept","name","disabled","breakdown","keywordScore","lengthScore","structureScore","suggestions","length","map","s","idx"],"sources":["D:/ATS+Linkedin/frontend/src/pages/ResumeAnalyzer.jsx"],"sourcesContent":["// src/pages/ResumeAnalyzer.jsx\r\nimport React, { useState } from \"react\";\r\nimport { api } from \"../api\";\r\n\r\nconst ResumeAnalyzer = () => {\r\n  const [jobTitle, setJobTitle] = useState(\"Full Stack Developer\");\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [result, setResult] = useState(null);\r\n\r\n  const handleFileChange = (e) => {\r\n    const selected = e.target.files[0];\r\n    if (!selected) return;\r\n\r\n    // allow only PDF or DOCX\r\n    const allowedTypes = [\r\n      \"application/pdf\",\r\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n    ];\r\n\r\n    if (!allowedTypes.includes(selected.type)) {\r\n      setError(\"Please upload a PDF or DOCX file only.\");\r\n      setFile(null);\r\n      return;\r\n    }\r\n\r\n    setError(\"\");\r\n    setFile(selected);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setResult(null);\r\n\r\n    if (!file) {\r\n      setError(\"Please choose a resume file first.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append(\"jobTitle\", jobTitle);\r\n      // ðŸ‘‡ IMPORTANT: field name must be \"resume\" (matches backend upload.single(\"resume\"))\r\n      formData.append(\"resume\", file);\r\n\r\n      const res = await api.post(\"/api/resume/analyze\", formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n\r\n      setResult(res.data.analysis);\r\n    } catch (err) {\r\n      console.error(\"Resume analyze error:\", err);\r\n      setError(\r\n        err?.response?.data?.message || \"Resume analysis failed. Try again.\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const scorePercent = result?.score ?? 0;\r\n\r\n  return (\r\n    <div className=\"page fade-in\">\r\n      <div className=\"page-header\">\r\n        <h1>Resume ATS Analyzer</h1>\r\n        <p className=\"muted\">\r\n          Upload your <strong>PDF</strong> or <strong>DOCX</strong> resume to\r\n          get an estimated ATS score and improvement suggestions.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"card\">\r\n        {error && <div className=\"error-box\">{error}</div>}\r\n\r\n        <form onSubmit={handleSubmit} className=\"form\">\r\n          <label>\r\n            Target Job Title\r\n            <input\r\n              type=\"text\"\r\n              value={jobTitle}\r\n              onChange={(e) => setJobTitle(e.target.value)}\r\n              placeholder=\"e.g. Full Stack Developer\"\r\n              required\r\n            />\r\n          </label>\r\n\r\n          <label>\r\n            Resume File (PDF / DOCX)\r\n            <input type=\"file\" accept=\".pdf,.docx\" onChange={handleFileChange} />\r\n            {file && (\r\n              <p className=\"muted small-text\">\r\n                Selected: <strong>{file.name}</strong>\r\n              </p>\r\n            )}\r\n          </label>\r\n\r\n          <button className=\"btn-primary\" type=\"submit\" disabled={loading}>\r\n            {loading ? \"Analyzing...\" : \"Analyze Resume\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      {result && (\r\n        <div className=\"card result-card slide-up\">\r\n          <h2>ATS Score</h2>\r\n          <div className=\"score-wrapper\">\r\n            <div className=\"score-circle\">\r\n              <span>{scorePercent}%</span>\r\n            </div>\r\n            <div className=\"score-details\">\r\n              <p>\r\n                <strong>Job Title:</strong> {result.jobTitle || jobTitle}\r\n              </p>\r\n              {result.breakdown && (\r\n                <>\r\n                  <p>\r\n                    <strong>Keyword score:</strong>{\" \"}\r\n                    {result.breakdown.keywordScore}/60\r\n                  </p>\r\n                  <p>\r\n                    <strong>Length score:</strong>{\" \"}\r\n                    {result.breakdown.lengthScore}/25\r\n                  </p>\r\n                  <p>\r\n                    <strong>Structure score:</strong>{\" \"}\r\n                    {result.breakdown.structureScore}/15\r\n                  </p>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {result.suggestions && result.suggestions.length > 0 && (\r\n            <>\r\n              <h3 className=\"mt-24\">Suggestions</h3>\r\n              <ul className=\"suggestion-list\">\r\n                {result.suggestions.map((s, idx) => (\r\n                  <li key={idx}>{s}</li>\r\n                ))}\r\n              </ul>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResumeAnalyzer;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,GAAG,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE7B,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,KAAAC,aAAA,CAC3B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,sBAAsB,CAAC,CAChE,KAAM,CAACY,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACkB,MAAM,CAAEC,SAAS,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAE1C,KAAM,CAAAoB,gBAAgB,CAAIC,CAAC,EAAK,CAC9B,KAAM,CAAAC,QAAQ,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAClC,GAAI,CAACF,QAAQ,CAAE,OAEf;AACA,KAAM,CAAAG,YAAY,CAAG,CACnB,iBAAiB,CACjB,yEAAyE,CAC1E,CAED,GAAI,CAACA,YAAY,CAACC,QAAQ,CAACJ,QAAQ,CAACK,IAAI,CAAC,CAAE,CACzCZ,QAAQ,CAAC,wCAAwC,CAAC,CAClDF,OAAO,CAAC,IAAI,CAAC,CACb,OACF,CAEAE,QAAQ,CAAC,EAAE,CAAC,CACZF,OAAO,CAACS,QAAQ,CAAC,CACnB,CAAC,CAED,KAAM,CAAAM,YAAY,CAAG,KAAO,CAAAP,CAAC,EAAK,CAChCA,CAAC,CAACQ,cAAc,CAAC,CAAC,CAClBd,QAAQ,CAAC,EAAE,CAAC,CACZI,SAAS,CAAC,IAAI,CAAC,CAEf,GAAI,CAACP,IAAI,CAAE,CACTG,QAAQ,CAAC,oCAAoC,CAAC,CAC9C,OACF,CAEA,GAAI,CACFE,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAa,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,CAAEtB,QAAQ,CAAC,CACrC;AACAoB,QAAQ,CAACE,MAAM,CAAC,QAAQ,CAAEpB,IAAI,CAAC,CAE/B,KAAM,CAAAqB,GAAG,CAAG,KAAM,CAAAhC,GAAG,CAACiC,IAAI,CAAC,qBAAqB,CAAEJ,QAAQ,CAAE,CAC1DK,OAAO,CAAE,CAAE,cAAc,CAAE,qBAAsB,CACnD,CAAC,CAAC,CAEFhB,SAAS,CAACc,GAAG,CAACG,IAAI,CAACC,QAAQ,CAAC,CAC9B,CAAE,MAAOC,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZC,OAAO,CAAC3B,KAAK,CAAC,uBAAuB,CAAEwB,GAAG,CAAC,CAC3CvB,QAAQ,CACN,CAAAuB,GAAG,SAAHA,GAAG,kBAAAC,aAAA,CAAHD,GAAG,CAAEI,QAAQ,UAAAH,aAAA,kBAAAC,kBAAA,CAAbD,aAAA,CAAeH,IAAI,UAAAI,kBAAA,iBAAnBA,kBAAA,CAAqBG,OAAO,GAAI,oCAClC,CAAC,CACH,CAAC,OAAS,CACR1B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA2B,YAAY,EAAAnC,aAAA,CAAGS,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAE2B,KAAK,UAAApC,aAAA,UAAAA,aAAA,CAAI,CAAC,CAEvC,mBACEJ,KAAA,QAAKyC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B1C,KAAA,QAAKyC,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5C,IAAA,OAAA4C,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5B1C,KAAA,MAAGyC,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAC,cACP,cAAA5C,IAAA,WAAA4C,QAAA,CAAQ,KAAG,CAAQ,CAAC,OAAI,cAAA5C,IAAA,WAAA4C,QAAA,CAAQ,MAAI,CAAQ,CAAC,qEAE3D,EAAG,CAAC,EACD,CAAC,cAEN1C,KAAA,QAAKyC,SAAS,CAAC,MAAM,CAAAC,QAAA,EAClBjC,KAAK,eAAIX,IAAA,QAAK2C,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEjC,KAAK,CAAM,CAAC,cAElDT,KAAA,SAAM2C,QAAQ,CAAEpB,YAAa,CAACkB,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC5C1C,KAAA,UAAA0C,QAAA,EAAO,kBAEL,cAAA5C,IAAA,UACEwB,IAAI,CAAC,MAAM,CACXsB,KAAK,CAAEvC,QAAS,CAChBwC,QAAQ,CAAG7B,CAAC,EAAKV,WAAW,CAACU,CAAC,CAACE,MAAM,CAAC0B,KAAK,CAAE,CAC7CE,WAAW,CAAC,2BAA2B,CACvCC,QAAQ,MACT,CAAC,EACG,CAAC,cAER/C,KAAA,UAAA0C,QAAA,EAAO,0BAEL,cAAA5C,IAAA,UAAOwB,IAAI,CAAC,MAAM,CAAC0B,MAAM,CAAC,YAAY,CAACH,QAAQ,CAAE9B,gBAAiB,CAAE,CAAC,CACpER,IAAI,eACHP,KAAA,MAAGyC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAAC,YACpB,cAAA5C,IAAA,WAAA4C,QAAA,CAASnC,IAAI,CAAC0C,IAAI,CAAS,CAAC,EACrC,CACJ,EACI,CAAC,cAERnD,IAAA,WAAQ2C,SAAS,CAAC,aAAa,CAACnB,IAAI,CAAC,QAAQ,CAAC4B,QAAQ,CAAEvC,OAAQ,CAAA+B,QAAA,CAC7D/B,OAAO,CAAG,cAAc,CAAG,gBAAgB,CACtC,CAAC,EACL,CAAC,EACJ,CAAC,CAELE,MAAM,eACLb,KAAA,QAAKyC,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxC5C,IAAA,OAAA4C,QAAA,CAAI,WAAS,CAAI,CAAC,cAClB1C,KAAA,QAAKyC,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B5C,IAAA,QAAK2C,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3B1C,KAAA,SAAA0C,QAAA,EAAOH,YAAY,CAAC,GAAC,EAAM,CAAC,CACzB,CAAC,cACNvC,KAAA,QAAKyC,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B1C,KAAA,MAAA0C,QAAA,eACE5C,IAAA,WAAA4C,QAAA,CAAQ,YAAU,CAAQ,CAAC,IAAC,CAAC7B,MAAM,CAACR,QAAQ,EAAIA,QAAQ,EACvD,CAAC,CACHQ,MAAM,CAACsC,SAAS,eACfnD,KAAA,CAAAE,SAAA,EAAAwC,QAAA,eACE1C,KAAA,MAAA0C,QAAA,eACE5C,IAAA,WAAA4C,QAAA,CAAQ,gBAAc,CAAQ,CAAC,CAAC,GAAG,CAClC7B,MAAM,CAACsC,SAAS,CAACC,YAAY,CAAC,KACjC,EAAG,CAAC,cACJpD,KAAA,MAAA0C,QAAA,eACE5C,IAAA,WAAA4C,QAAA,CAAQ,eAAa,CAAQ,CAAC,CAAC,GAAG,CACjC7B,MAAM,CAACsC,SAAS,CAACE,WAAW,CAAC,KAChC,EAAG,CAAC,cACJrD,KAAA,MAAA0C,QAAA,eACE5C,IAAA,WAAA4C,QAAA,CAAQ,kBAAgB,CAAQ,CAAC,CAAC,GAAG,CACpC7B,MAAM,CAACsC,SAAS,CAACG,cAAc,CAAC,KACnC,EAAG,CAAC,EACJ,CACH,EACE,CAAC,EACH,CAAC,CAELzC,MAAM,CAAC0C,WAAW,EAAI1C,MAAM,CAAC0C,WAAW,CAACC,MAAM,CAAG,CAAC,eAClDxD,KAAA,CAAAE,SAAA,EAAAwC,QAAA,eACE5C,IAAA,OAAI2C,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,aAAW,CAAI,CAAC,cACtC5C,IAAA,OAAI2C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC5B7B,MAAM,CAAC0C,WAAW,CAACE,GAAG,CAAC,CAACC,CAAC,CAAEC,GAAG,gBAC7B7D,IAAA,OAAA4C,QAAA,CAAegB,CAAC,EAAPC,GAAY,CACtB,CAAC,CACA,CAAC,EACL,CACH,EACE,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxD,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}